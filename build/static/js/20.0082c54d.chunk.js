(window["webpackJsonptracker-web"]=window["webpackJsonptracker-web"]||[]).push([[20],{1384:function(e,t,n){},1410:function(e,t,n){"use strict";var r=n(0),o=n(255),a=n(6),c=n.n(a);function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=p(this,f(t).apply(this,arguments))).saveRef=function(t){var n=e.props.children.ref;"function"===typeof n&&n(t)},e}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){return r.cloneElement(this.props.children,i(i({},this.props),{ref:this.saveRef}),null)}}])&&l(n.prototype,o),a&&l(n,a),t}(r.Component),b=n(1089),m=n(208),d=n(116);function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return S}));var S=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=w(this,g(t).apply(this,arguments))).saveSelect=function(t){e.select=t},e.getInputElement=function(){var t=e.props.children,n=t&&r.isValidElement(t)&&t.type!==o.b?r.Children.only(e.props.children):r.createElement(b.a,null),a=v({},n.props);return delete a.children,r.createElement(y,a,n)},e.renderAutoComplete=function(t){var n,a,u,i=t.getPrefixCls,l=e.props,p=l.prefixCls,f=l.size,s=l.className,y=void 0===s?"":s,b=l.notFoundContent,d=l.optionLabelProp,E=l.dataSource,w=l.children,g=i("select",p),j=c()((O(n={},"".concat(g,"-lg"),"large"===f),O(n,"".concat(g,"-sm"),"small"===f),O(n,y,!!y),O(n,"".concat(g,"-show-search"),!0),O(n,"".concat(g,"-auto-complete"),!0),n)),S=r.Children.toArray(w);return a=S.length&&((u=S[0])&&u.type&&(u.type.isSelectOption||u.type.isSelectOptGroup))?w:E?E.map((function(e){if(r.isValidElement(e))return e;switch(h(e)){case"string":return r.createElement(o.b,{key:e},e);case"object":return r.createElement(o.b,{key:e.value},e.text);default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}})):[],r.createElement(m.a,v({},e.props,{className:j,mode:m.a.SECRET_COMBOBOX_MODE_DO_NOT_USE,optionLabelProp:d,getInputElement:e.getInputElement,notFoundContent:b,ref:e.saveSelect}),a)},e}var n,a,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(a=[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){return r.createElement(d.a,null,this.renderAutoComplete)}}])&&E(n.prototype,a),u&&E(n,u),t}(r.Component);S.Option=o.b,S.OptGroup=o.a,S.defaultProps={transitionName:"slide-up",optionLabelProp:"children",choiceTransitionName:"zoom",showSearch:!1,filterOption:!1}},1418:function(e,t,n){"use strict";n.r(t);var r=n(46),o=n(84),a=n(1086),c=n(1087),u=n(1410),i=n(74),l=n(358),p=n(1085),f=n(0),s=n.n(f),y=n(350),b=n(1384),m=n.n(b),d=n(63),h=n(15),O=n(9),v=n(217),E=n.n(v),w=n(8);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=Object(d.c)((function(e){return{projectId:e.project.projectInfo.id}}),null)((function(e){var t=e.projectId,n=function(e){d(e)},r=s.a.useState({dateStart:O.o[1].startDate(),dateEnd:O.o[1].endDate(),dateType:O.o[1].value,query:""}),f=Object(o.a)(r,2),b=f[0],d=f[1],v=s.a.useState([]),g=Object(o.a)(v,2),S=g[0],P=g[1],_=JSON.parse(window.localStorage.getItem("TELESCOPE_QUERY_DATA_SOURCE")||"[]"),C=s.a.useState(_),k=Object(o.a)(C,2),T=k[0],D=k[1],I=s.a.useState(!1),N=Object(o.a)(I,2),x=N[0],A=N[1],R=function(e){var t=[];if(e.length>0)for(var n in e[0])/^__/.test(n)||(/time$/i.test(n)?t.push({title:n,key:n,dataIndex:n,render:function(e){return E()(Number(e)).format("YYYY-MM-DD HH:mm:ss")}}):"custom"===n?t.push({title:n,key:n,dataIndex:n,render:function(e){return e&&unescape(e.replace(/\\u/gi,"%u"))}}):t.push({title:n,key:n,dataIndex:n}));return t};return s.a.createElement("div",{className:m.a.wrapper},s.a.createElement("div",{className:m.a.preview},s.a.createElement(a.a,null,s.a.createElement(c.a,{span:12},s.a.createElement(u.a,{style:{width:"100%"},value:b.query,dataSource:T,onSearch:function(e){D(_.filter((function(t){return t.value.indexOf(e)>=0})))},onChange:function(e){return n(j({},b,{query:e}))}})),s.a.createElement(c.a,{span:10},s.a.createElement(y.a,{pickerProps:{allowClear:!1},onChange:function(e){return n(j({},b,{},e))},value:{dateType:b.dateType,dateEnd:b.dateEnd,dateStart:b.dateStart}})),s.a.createElement(c.a,{span:2},s.a.createElement(i.a,{onClick:function(){A(!0),b.query&&!_.find((function(e){return e.value===b.query}))&&(_.unshift({value:b.query,text:b.query}),_.length>100&&(_.length=100),window.localStorage.setItem("TELESCOPE_QUERY_DATA_SOURCE",JSON.stringify(_))),Object(h.fetchCustomAnalyseData)(j({},b,{projectId:t})).then((function(e){P(e.data)})).finally((function(){A(!1)}))}},"\u67e5\u8be2"))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"app-tablePage-table"},s.a.createElement("div",{className:"app-tablePage-tableBtnBox"},s.a.createElement(i.a,{onClick:function(){Object(w.c)(R(S),S,"\u81ea\u5b9a\u4e49\u67e5\u8be2")}},"\u5bfc\u51fa")),s.a.createElement(l.a,{spinning:x},s.a.createElement(p.a,{columns:R(S),bordered:!0,dataSource:S,rowKey:"id"}),s.a.createElement("br",null),s.a.createElement("br",null))),s.a.createElement("div",null)))}))}}]);
//# sourceMappingURL=20.0082c54d.chunk.js.map