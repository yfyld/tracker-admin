{"version":3,"sources":["pages/metadata/components/MetadataAddModal.tsx","pages/metadata/components/MetadataEditModal.tsx","pages/metadata/components/TagAddModal.tsx","pages/metadata/components/TagEditModal.tsx","pages/metadata/components/TagManagement.tsx","pages/metadata/components/MetadataListForm.tsx","pages/metadata/MetadataList.tsx","../node_modules/antd/es/tag/CheckableTag.js","../node_modules/antd/es/_util/colors.js","../node_modules/antd/es/tag/index.js","pages/metadata/MetadataList.module.less","pages/metadata/components/TagManagement.module.less"],"names":["connect","state","projectId","project","projectInfo","id","tagList","metadata","dispatch","bindActionCreators","handleAddMetadata","params","doAddMetadata","request","Form","create","props","getFieldDecorator","form","Option","Select","TextArea","Input","React","resetFields","visible","onOk","e","preventDefault","validateFields","err","values","toastformError","newTags","newTagsTemp","tags","forEach","item","test","push","parseInt","status","onClose","title","onCancel","layout","formItemLayout","Item","label","rules","required","message","placeholder","value","IMetadataType","page","event","mode","list","map","key","name","handleUpdateMetadata","doUpdateMetadata","console","log","defaultValue","initialValue","code","type","description","handleSubmit","onSubmit","confirm","Modal","doDelTag","doAddTag","doUpdateTag","addTagVisible","setAddTagVisible","editTagVisible","setEditTagVisible","curTagInfo","setCurTagInfo","columns","dataIndex","render","text","record","size","onClick","handleDeleteMetadata","content","okText","okType","cancelText","className","style","wrapper","btnBox","rowKey","pagination","dataSource","htmlType","metadataList","metadataListParams","tagListFilters","tagListFiltersSelector","getMetadataList","doGetMetadataList","doDeleteMetadata","doEnableMetadata","doDisableMetadata","addMetadataVisible","setAddMetadataVisible","editMetadataVisible","setEditMetadataVisible","recentLog","curMetadataInfo","setCurMetadataInfo","tagDrawerVisible","setTagDrawerVisible","sorter","sortDirections","filters","filterMultiple","filterMetadataType","color","width","handleDisableMetadata","handleEnableMetadata","metadataId","MetadataAddModal","MetadataEditModal","placement","closable","onChange","current","pageSize","sortKey","sortType","field","order","join","_typeof","obj","Symbol","iterator","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","hasOwnProperty","call","apply","this","_defineProperty","defineProperty","enumerable","configurable","writable","_defineProperties","descriptor","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","__rest","s","t","indexOf","getOwnPropertySymbols","propertyIsEnumerable","_React$Component","CheckableTag","_this","instance","Constructor","TypeError","_classCallCheck","handleClick","_this$props","checked","renderCheckableTag","_ref","_classNames","getPrefixCls","_a","customizePrefixCls","prefixCls","restProps","cls","concat","protoProps","staticProps","subClass","superClass","_inherits","PresetColorTypes","PresetColorRegex","RegExp","Tag","handleIconClick","setVisible","renderTag","configProps","children","otherProps","isNeedWave","tagProps","getTagClassName","getTagStyle","renderCloseIcon","warning","nextProps","isPresetColor","backgroundColor","undefined","_this$props2","_this$props3","afterClose","defaultPrevented","setState","defaultProps","module","exports"],"mappings":"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","file":"static/js/17.e2830bae.chunk.js","sourcesContent":["import { Modal, Form, Input, Select, Button } from 'antd';\nimport * as React from 'react';\nimport { formItemLayout } from '@/constants';\nimport { FormComponentProps } from 'antd/lib/form';\nimport { IMetadataAddParam, ITagList, IMetadataType } from '@/api';\nimport { toastformError } from '@/utils';\nimport { connect } from 'react-redux';\nimport { IAction, IStoreState } from '@/types';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { doAddMetadata } from '@/store/actions';\n\ninterface Props extends FormComponentProps {\n  visible: boolean;\n  onClose: (param: boolean) => any;\n  projectId: number;\n  tagList: ITagList;\n  handleAddMetadata: (param: IMetadataAddParam) => IAction;\n}\n\nconst MetadataAddModel = (props: Props) => {\n  const { getFieldDecorator } = props.form;\n  const { Option } = Select;\n  const { TextArea } = Input;\n  const [newTags, setNewTags] = React.useState(['']);\n  React.useEffect(() => {\n    props.form.resetFields();\n  }, [props.visible]);\n\n  const handleSubmit = (e: React.MouseEvent) => {\n    e.preventDefault();\n    props.form.validateFields((err, values) => {\n      if (err) {\n        toastformError(err);\n        return;\n      }\n      if (values.newTags) {\n        const newTagsTemp: string[] = [];\n        if (!values.tags) {\n          values.tags = [];\n        }\n        values.newTags.forEach((item: string) => {\n          if (/^\\+?[1-9][0-9]*$/g.test(item)) {\n            values.tags.push(parseInt(item));\n          } else {\n            newTagsTemp.push(item);\n          }\n        });\n        values.newTags = newTagsTemp;\n      }\n      props.handleAddMetadata({ projectId: props.projectId, status: 0, ...values });\n      props.onClose(false);\n    });\n  };\n\n  const handleTagChange = (selectedItems: string[]) => {\n    console.log('selectedItems', selectedItems);\n  };\n\n  const handleAddTag = () => {\n    console.log('newTags', newTags);\n    newTags.push('');\n    setNewTags(newTags);\n  };\n\n  return (\n    <Modal onOk={handleSubmit} title='新增元数据' visible={props.visible} onCancel={() => props.onClose(false)}>\n      <Form layout='horizontal' {...formItemLayout}>\n        <Form.Item label='事件code'>\n          {getFieldDecorator('code', {\n            rules: [{ required: true, message: '请输入事件code' }]\n          })(<Input placeholder='请输入事件code' />)}\n        </Form.Item>\n        <Form.Item label='事件名称'>\n          {getFieldDecorator('name', { rules: [{ required: true, message: '请输入事件名称' }] })(\n            <Input placeholder='请输入事件名称' />\n          )}\n        </Form.Item>\n        <Form.Item label='事件类型'>\n          {getFieldDecorator('type', { rules: [{ required: true, message: '请选择事件类型' }] })(\n            <Select placeholder='请选择事件类型'>\n              <Option value={IMetadataType.page}>页面</Option>\n              <Option value={IMetadataType.event}>事件</Option>\n            </Select>\n          )}\n        </Form.Item>\n        <Form.Item label='标签'>\n          {getFieldDecorator(\n            'newTags',\n            {}\n          )(\n            <Select mode='tags' placeholder='选择或添加事件标签'>\n              {props.tagList.list.map(item => (\n                <Option key={item.id} value={'' + item.id}>\n                  {item.name}\n                </Option>\n              ))}\n            </Select>\n          )}\n        </Form.Item>\n        <Form.Item label='事件备注'>\n          {getFieldDecorator('description', {})(<TextArea placeholder='请输入事件备注' />)}\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nconst mapStateToProps = (state: IStoreState) => {\n  const projectId = state.project.projectInfo.id;\n  const tagList = state.metadata.tagList;\n  return {\n    projectId,\n    tagList\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<IAction>) =>\n  bindActionCreators(\n    {\n      handleAddMetadata: (params: IMetadataAddParam) => {\n        return doAddMetadata.request(params);\n      }\n    },\n    dispatch\n  );\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create<Props>()(MetadataAddModel));\n","import { Modal, Form, Input, Select } from 'antd';\nimport * as React from 'react';\nimport { formItemLayout } from '@/constants';\nimport { FormComponentProps } from 'antd/lib/form';\nimport { IMetadataUpdateParam, ITagList, IMetadataInfo, IMetadataType } from '@/api';\nimport { toastformError } from '@/utils';\nimport { connect } from 'react-redux';\nimport { IAction, IStoreState } from '@/types';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { doUpdateMetadata } from '@/store/actions';\n\ninterface Props extends FormComponentProps {\n  visible: boolean;\n  onClose: (param: boolean) => any;\n  projectId: number;\n  tagList: ITagList;\n  defaultValue: IMetadataInfo;\n  handleUpdateMetadata: (param: IMetadataUpdateParam) => IAction;\n}\n\nconst MetadataEditModel = (props: Props) => {\n  const { getFieldDecorator } = props.form;\n  const { Option } = Select;\n  const { TextArea } = Input;\n  React.useEffect(() => {\n    props.form.resetFields();\n  }, [props.visible]);\n  const handleSubmit = (e: React.MouseEvent) => {\n    e.preventDefault();\n    props.form.validateFields((err, values) => {\n      console.log('values', values);\n      if (err) {\n        toastformError(err);\n        return;\n      }\n      if (values.newTags) {\n        const newTagsTemp: string[] = [];\n        if (!values.tags) {\n          values.tags = [];\n        }\n        values.newTags.forEach((item: string) => {\n          if (/^\\+?[1-9][0-9]*$/g.test(item)) {\n            values.tags.push(parseInt(item));\n          } else {\n            newTagsTemp.push(item);\n          }\n        });\n        values.newTags = newTagsTemp;\n      }\n      props.handleUpdateMetadata({ ...props.defaultValue, ...values });\n      props.onClose(false);\n    });\n  };\n  return (\n    <Modal onOk={handleSubmit} title='新增元数据' visible={props.visible} onCancel={() => props.onClose(false)}>\n      <Form layout='horizontal' {...formItemLayout}>\n        <Form.Item label='事件code'>\n          {getFieldDecorator('code', {\n            initialValue: props.defaultValue.code,\n            rules: [{ required: true, message: '请输入事件code' }]\n          })(<Input placeholder='请输入事件code' />)}\n        </Form.Item>\n        <Form.Item label='事件名称'>\n          {getFieldDecorator('name', {\n            initialValue: props.defaultValue.name,\n            rules: [{ required: true, message: '请输入事件名称' }]\n          })(<Input placeholder='请输入事件名称' />)}\n        </Form.Item>\n        <Form.Item label='事件类型'>\n          {getFieldDecorator('type', {\n            initialValue: props.defaultValue.type,\n            rules: [{ required: true, message: '请选择事件类型' }]\n          })(\n            <Select placeholder='请选择事件类型'>\n              <Option value={IMetadataType.page}>页面</Option>\n              <Option value={IMetadataType.event}>事件</Option>\n            </Select>\n          )}\n        </Form.Item>\n        <Form.Item label='标签'>\n          {getFieldDecorator('newTags', {\n            initialValue: props.defaultValue.tags.map(item => '' + item.id)\n          })(\n            <Select mode='tags' placeholder='选择事件标签'>\n              {props.tagList.list.map(item => (\n                <Option key={item.id} value={'' + item.id}>\n                  {item.name}\n                </Option>\n              ))}\n            </Select>\n          )}\n        </Form.Item>\n        <Form.Item label='事件备注'>\n          {getFieldDecorator('description', {\n            initialValue: props.defaultValue.description\n          })(<TextArea placeholder='请输入事件备注' />)}\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nconst mapStateToProps = (state: IStoreState) => {\n  const projectId = state.project.projectInfo.id;\n  const tagList = state.metadata.tagList;\n  return {\n    projectId,\n    tagList\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<IAction>) =>\n  bindActionCreators(\n    {\n      handleUpdateMetadata: (params: IMetadataUpdateParam) => {\n        return doUpdateMetadata.request(params);\n      }\n    },\n    dispatch\n  );\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create<Props>()(MetadataEditModel));\n","import { Form, Input, Modal } from 'antd';\nimport * as React from 'react';\nimport { FormComponentProps } from 'antd/lib/form';\nimport { ITagAddParam } from '@/api';\nimport { toastformError } from '@/utils';\nimport { formItemLayout } from '@/constants';\nconst { TextArea } = Input;\ninterface Props extends FormComponentProps {\n  visible: boolean;\n  onSubmit: (param: ITagAddParam) => any;\n  onClose: (param: boolean) => any;\n}\n\nconst TagAddModal = (props: Props) => {\n  const { getFieldDecorator } = props.form;\n\n  const handleSubmit = () => {\n    props.form.validateFields((err, values) => {\n      if (err) {\n        toastformError(err);\n        return;\n      }\n      props.onSubmit(values);\n      props.onClose(false);\n    });\n  };\n  return (\n    <Modal title='新增标签' visible={props.visible} onOk={handleSubmit} onCancel={() => props.onClose(false)}>\n      <Form onSubmit={handleSubmit} {...formItemLayout}>\n        <Form.Item label='名称'>\n          {getFieldDecorator('name', {\n            initialValue: ''\n          })(<Input placeholder='名称' />)}\n        </Form.Item>\n        <Form.Item label='描述'>\n          {getFieldDecorator('description', {\n            initialValue: ''\n          })(<TextArea placeholder='description' />)}\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default Form.create<Props>()(TagAddModal);\n","import { Form, Input, Modal } from 'antd';\nimport * as React from 'react';\nimport { FormComponentProps } from 'antd/lib/form';\nimport { ITagUpdateParam, ITagInfo } from '@/api';\nimport { toastformError } from '@/utils';\nimport { formItemLayout } from '@/constants';\nconst { TextArea } = Input;\ninterface Props extends FormComponentProps {\n  visible: boolean;\n  onSubmit: (param: ITagUpdateParam) => any;\n  onClose: (param: boolean) => any;\n  defaultValue: ITagInfo;\n}\n\nconst TagEditModal = (props: Props) => {\n  const { getFieldDecorator } = props.form;\n\n  const handleSubmit = () => {\n    props.form.validateFields((err, values) => {\n      if (err) {\n        toastformError(err);\n        return;\n      }\n      props.onSubmit({ ...props.defaultValue, ...values });\n      props.onClose(false);\n    });\n  };\n  return (\n    <Modal title='编辑标签' visible={props.visible} onOk={handleSubmit} onCancel={() => props.onClose(false)}>\n      <Form onSubmit={handleSubmit} {...formItemLayout}>\n        <Form.Item label='名称'>\n          {getFieldDecorator('name', {\n            initialValue: props.defaultValue.name\n          })(<Input placeholder='名称' />)}\n        </Form.Item>\n        <Form.Item label='描述'>\n          {getFieldDecorator('description', {\n            initialValue: props.defaultValue.description\n          })(<TextArea placeholder='description' />)}\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default Form.create<Props>()(TagEditModal);\n","import * as React from 'react';\nimport style from './TagManagement.module.less';\nimport { connect } from 'react-redux';\nimport { IStoreState, IAction, IDeleteParam } from '@/types';\n\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { Table, Button, Modal } from 'antd';\nimport { ColumnProps } from 'antd/lib/table';\nimport TagAddModal from './TagAddModal';\nimport { doDelTag, doUpdateTag, doAddTag } from '@/store/actions';\nimport { ITagAddParam, ITagUpdateParam, ITagList, ITagInfo } from '@/api';\nimport TagEditModal from './TagEditModal';\n\nconst { confirm } = Modal;\n\ninterface Props {\n  doDelTag: (params: IDeleteParam) => IAction;\n  doAddTag: (params: ITagAddParam) => IAction;\n  doUpdateTag: (params: ITagUpdateParam) => IAction;\n  projectId: number;\n  tagList: ITagList;\n}\n\nconst TagManagement = (props: Props) => {\n  const [addTagVisible, setAddTagVisible] = React.useState(false);\n  const [editTagVisible, setEditTagVisible] = React.useState(false);\n  const [curTagInfo, setCurTagInfo] = React.useState<ITagInfo>({\n    id: null,\n    name: '',\n    description: '',\n    projectId: null\n  });\n  const columns: ColumnProps<any>[] = [\n    {\n      key: 'name',\n      title: '名称',\n      dataIndex: 'name'\n    },\n    {\n      key: 'description',\n      title: '描述',\n      dataIndex: 'description'\n    },\n    {\n      title: '操作',\n      key: 'action',\n      render: (text: any, record: any) => (\n        <span>\n          <Button type='link' size='small' onClick={() => handleUpdateMetadata(record)}>\n            编辑\n          </Button>\n          <Button type='link' size='small' onClick={() => handleDeleteMetadata(record)}>\n            删除\n          </Button>\n        </span>\n      )\n    }\n  ];\n\n  const handleUpdateMetadata = (record: ITagInfo) => {\n    setCurTagInfo(record);\n    setEditTagVisible(true);\n  };\n\n  const handleDeleteMetadata = (record: ITagInfo) => {\n    confirm({\n      title: '提示',\n      content: '确定要删除选中的标签',\n      okText: '删除',\n      okType: 'danger',\n      cancelText: '取消',\n      onOk() {\n        props.doDelTag(record);\n      }\n    });\n  };\n\n  return (\n    <div className={style.wrapper}>\n      <TagAddModal\n        visible={addTagVisible}\n        onClose={setAddTagVisible}\n        onSubmit={values => props.doAddTag({ projectId: props.projectId, ...values })}\n      ></TagAddModal>\n      <TagEditModal\n        defaultValue={curTagInfo}\n        visible={editTagVisible}\n        onClose={setEditTagVisible}\n        onSubmit={props.doUpdateTag}\n      ></TagEditModal>\n      <div className={style.btnBox}>\n        <Button onClick={() => setAddTagVisible(true)}>新增标签</Button>\n      </div>\n      <Table rowKey='id' pagination={false} columns={columns} dataSource={props.tagList.list} />\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<IAction>) =>\n  bindActionCreators(\n    {\n      doDelTag: (params: IDeleteParam) => doDelTag.request(params),\n      doAddTag: (params: ITagAddParam) => doAddTag.request(params),\n      doUpdateTag: (params: ITagUpdateParam) => doUpdateTag.request(params)\n    },\n    dispatch\n  );\n\nconst mapStateToProps = (state: IStoreState) => {\n  const projectId = state.project.projectInfo.id;\n  const tagList = state.metadata.tagList;\n  return {\n    projectId,\n    tagList\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TagManagement);\n","import { Form, Input, Button } from 'antd';\nimport * as React from 'react';\nimport { FormComponentProps } from 'antd/lib/form';\nimport { IMetadataListParam } from '@/api';\nimport { toastformError } from '@/utils';\ninterface Props extends FormComponentProps {\n  onSubmit: (param: IMetadataListParam) => any;\n  defaultValue: IMetadataListParam;\n}\n\nconst MetadataListForm = (props: Props) => {\n  const { getFieldDecorator } = props.form;\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    props.form.validateFields((err, values) => {\n      if (err) {\n        toastformError(err);\n        return;\n      }\n      props.onSubmit({ ...props.defaultValue, ...values });\n    });\n  };\n  return (\n    <Form onSubmit={handleSubmit} layout='inline'>\n      <Form.Item label=''>\n        {getFieldDecorator('name', {\n          initialValue: props.defaultValue.name\n        })(<Input placeholder='名称' />)}\n      </Form.Item>\n      <Form.Item label=''>\n        {getFieldDecorator('code', {\n          initialValue: props.defaultValue.code\n        })(<Input placeholder='Code' />)}\n      </Form.Item>\n      <Form.Item>\n        <Button htmlType='submit'>查询</Button>\n      </Form.Item>\n    </Form>\n  );\n};\n\nexport default Form.create<Props>()(MetadataListForm);\n","import * as React from 'react';\nimport style from './MetadataList.module.less';\nimport { connect } from 'react-redux';\nimport { IStoreState, IAction, IPageData } from '@/types';\nimport { doGetMetadataList, doDeleteMetadata, doEnableMetadata, doDisableMetadata } from '@/store/actions';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { Table, Button, Modal, Drawer, Tag } from 'antd';\nimport { PaginationConfig, SorterResult, ColumnProps, ColumnFilterItem } from 'antd/lib/table';\nimport { IMetadataListParam, IMetadataInfo, ITagInfo, IMetadataType } from '@/api';\nimport MetadataAddModal from './components/MetadataAddModal';\nimport MetadataEditModal from './components/MetadataEditModal';\nimport TagManagement from './components/TagManagement';\nimport MetadataListForm from './components/MetadataListForm';\nimport { tagListFiltersSelector } from '@/store/selectors';\nconst { confirm } = Modal;\n\ninterface Props {\n  getMetadataList: (params: IMetadataListParam) => IAction;\n  doDeleteMetadata: (params: number) => IAction;\n  doEnableMetadata: (params: number) => IAction;\n  doDisableMetadata: (params: number) => IAction;\n  metadataList: IPageData<IMetadataInfo>;\n  metadataListParams: IMetadataListParam;\n  tagListFilters: ColumnFilterItem[];\n  projectId: number;\n}\n\nconst MetadataList = ({\n  metadataList,\n  getMetadataList,\n  doDeleteMetadata,\n  doEnableMetadata,\n  doDisableMetadata,\n  metadataListParams,\n  tagListFilters\n}: Props) => {\n  const [addMetadataVisible, setAddMetadataVisible] = React.useState(false);\n  const [editMetadataVisible, setEditMetadataVisible] = React.useState(false);\n  const [curMetadataInfo, setCurMetadataInfo] = React.useState<IMetadataInfo>({\n    id: null,\n    code: '',\n    name: '',\n    type: null,\n    description: '',\n    projectId: null,\n    status: null,\n    tags: [],\n    log: 0,\n    recentLog: 0\n  });\n  const [tagDrawerVisible, setTagDrawerVisible] = React.useState(false);\n\n  const columns: ColumnProps<IMetadataInfo>[] = [\n    {\n      key: 'name',\n      title: '名称',\n      dataIndex: 'name'\n    },\n    {\n      key: 'code',\n      title: 'Code',\n      dataIndex: 'code',\n      sorter: true,\n      sortDirections: ['descend', 'ascend']\n    },\n    {\n      key: 'type',\n      title: '类型',\n      dataIndex: 'type',\n      filters: [\n        {\n          text: '页面',\n          value: '' + IMetadataType.page\n        },\n        {\n          text: '事件',\n          value: '' + IMetadataType.event\n        }\n      ],\n      filterMultiple: false,\n      render: (text: number) => <span>{filterMetadataType(text)}</span>\n    },\n    {\n      key: 'status',\n      title: '启用',\n      dataIndex: 'status',\n      filters: [\n        {\n          text: '是',\n          value: '1'\n        },\n        {\n          text: '否',\n          value: '0'\n        }\n      ],\n      filterMultiple: false,\n      render: (text: number) => <span>{text === 1 ? '是' : '否'}</span>\n    },\n    {\n      key: 'log',\n      title: '产生日志',\n      dataIndex: 'log',\n      filters: [\n        {\n          text: '有',\n          value: '1'\n        },\n        {\n          text: '无',\n          value: '0'\n        }\n      ],\n      filterMultiple: false,\n      render: (text: number, record) =>\n        record.log ? (\n          <span>\n            {record.log}条(最新:{record.recentLog}条)\n          </span>\n        ) : (\n          <span>无</span>\n        )\n    },\n    {\n      key: 'tags',\n      title: '标签',\n      dataIndex: 'tags',\n      filters: tagListFilters,\n      filterMultiple: true,\n      render: (tags: ITagInfo[], record: any) => {\n        return (\n          <div>\n            {tags.map(item => (\n              <Tag color='#1890ff' key={item.id}>\n                {item.name}\n              </Tag>\n            ))}\n          </div>\n        );\n      }\n    },\n    {\n      key: 'description',\n      title: '备注',\n      dataIndex: 'description'\n    },\n    {\n      title: '操作',\n      key: 'action',\n      width: 180,\n      render: (text: any, record: any) => (\n        <span>\n          <Button type='link' size='small' onClick={() => handleUpdateMetadata(record)}>\n            编辑\n          </Button>\n          {record.status === 1 && (\n            <Button type='link' size='small' onClick={() => handleDisableMetadata(record.id)}>\n              禁用\n            </Button>\n          )}\n          {record.status === 0 && (\n            <Button type='link' size='small' onClick={() => handleEnableMetadata(record.id)}>\n              启用\n            </Button>\n          )}\n          <Button type='link' size='small' onClick={() => handleDeleteMetadata(record.id)}>\n            删除\n          </Button>\n        </span>\n      )\n    }\n  ];\n\n  const filterMetadataType = (type: number) => {\n    switch (type) {\n      case IMetadataType.page:\n        return '页面';\n      case IMetadataType.event:\n        return '事件';\n      default:\n        return '';\n    }\n  };\n\n  function handleChange(\n    pagination: PaginationConfig,\n    filters: Record<string | number | symbol, string[]>,\n    sorter: SorterResult<any>\n  ) {\n    const params: any = {\n      page: pagination.current,\n      pageSize: pagination.pageSize,\n      sortKey: null,\n      sortType: null,\n      tags: null,\n      type: null,\n      status: null\n    };\n    if (sorter.field) {\n      params.sortKey = sorter.field;\n      params.sortType = sorter.order;\n    }\n    if (filters.tags) {\n      params.tags = filters.tags.join(',');\n    }\n    if (filters.status) {\n      params.status = filters.status[0];\n    }\n    if (filters.type) {\n      params.type = filters.type[0];\n    }\n    if (filters.log) {\n      params.log = filters.log[0];\n    }\n\n    getMetadataList({ ...metadataListParams, ...params });\n  }\n\n  const handleDeleteMetadata = (metadataId: number) => {\n    confirm({\n      title: '提示',\n      content: '确定要删除选中的元数据',\n      okText: '删除',\n      okType: 'danger',\n      cancelText: '取消',\n      onOk() {\n        doDeleteMetadata(metadataId);\n      }\n    });\n  };\n\n  const handleUpdateMetadata = (record: IMetadataInfo) => {\n    setCurMetadataInfo(record);\n    setEditMetadataVisible(true);\n  };\n\n  const handleDisableMetadata = (id: number) => {\n    doDisableMetadata(id);\n  };\n  const handleEnableMetadata = (id: number) => {\n    doEnableMetadata(id);\n  };\n\n  return (\n    <div className={style.wrapper}>\n      <MetadataAddModal visible={addMetadataVisible} onClose={setAddMetadataVisible}></MetadataAddModal>\n      <MetadataEditModal\n        defaultValue={curMetadataInfo}\n        visible={editMetadataVisible}\n        onClose={setEditMetadataVisible}\n      ></MetadataEditModal>\n      <Drawer\n        width={640}\n        title='标签管理'\n        placement='right'\n        closable={false}\n        onClose={() => setTagDrawerVisible(false)}\n        visible={tagDrawerVisible}\n      >\n        <TagManagement></TagManagement>\n      </Drawer>\n      <div className='app-card'>\n        <div className='app-fl'>\n          <MetadataListForm defaultValue={metadataListParams} onSubmit={getMetadataList}></MetadataListForm>\n        </div>\n        <div className='app-fr'>\n          <Button onClick={() => setAddMetadataVisible(true)}>新增元数据</Button>\n          &nbsp;\n          <Button onClick={() => setTagDrawerVisible(true)}>标签管理</Button>\n        </div>\n      </div>\n      <div className='app-card'>\n        <Table rowKey='id' columns={columns} dataSource={metadataList.list} onChange={handleChange} />\n      </div>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<IAction>) =>\n  bindActionCreators(\n    {\n      getMetadataList: params => {\n        return doGetMetadataList.request(params);\n      },\n      doDeleteMetadata: params => {\n        return doDeleteMetadata.request(params);\n      },\n      doEnableMetadata: params => {\n        return doEnableMetadata.request(params);\n      },\n      doDisableMetadata: params => {\n        return doDisableMetadata.request(params);\n      }\n    },\n\n    dispatch\n  );\n\nconst mapStateToProps = (state: IStoreState) => {\n  const { metadataList, metadataListParams, tagList } = state.metadata;\n  const projectId = state.project.projectInfo.id;\n  const tagListFilters = tagListFiltersSelector(state);\n  return {\n    metadataList,\n    metadataListParams,\n    tagList,\n    tagListFilters,\n    projectId\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MetadataList);\n","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar CheckableTag =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CheckableTag, _React$Component);\n\n  function CheckableTag() {\n    var _this;\n\n    _classCallCheck(this, CheckableTag);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CheckableTag).apply(this, arguments));\n\n    _this.handleClick = function () {\n      var _this$props = _this.props,\n          checked = _this$props.checked,\n          onChange = _this$props.onChange;\n\n      if (onChange) {\n        onChange(!checked);\n      }\n    };\n\n    _this.renderCheckableTag = function (_ref) {\n      var _classNames;\n\n      var getPrefixCls = _ref.getPrefixCls;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          className = _a.className,\n          checked = _a.checked,\n          restProps = __rest(_a, [\"prefixCls\", \"className\", \"checked\"]);\n\n      var prefixCls = getPrefixCls('tag', customizePrefixCls);\n      var cls = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checkable\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-checkable-checked\"), checked), _classNames), className);\n      delete restProps.onChange; // TypeScript cannot check delete now.\n\n      return React.createElement(\"span\", _extends({}, restProps, {\n        className: cls,\n        onClick: _this.handleClick\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(CheckableTag, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderCheckableTag);\n    }\n  }]);\n\n  return CheckableTag;\n}(React.Component);\n\nexport { CheckableTag as default };","import { tuple } from './type'; // eslint-disable-next-line import/prefer-default-export\n\nexport var PresetColorTypes = tuple('pink', 'red', 'yellow', 'orange', 'cyan', 'green', 'blue', 'purple', 'geekblue', 'magenta', 'volcano', 'gold', 'lime');","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Icon from '../icon';\nimport CheckableTag from './CheckableTag';\nimport { ConfigConsumer } from '../config-provider';\nimport { PresetColorTypes } from '../_util/colors';\nimport warning from '../_util/warning';\nimport Wave from '../_util/wave';\nvar PresetColorRegex = new RegExp(\"^(\".concat(PresetColorTypes.join('|'), \")(-inverse)?$\"));\n\nvar Tag =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Tag, _React$Component);\n\n  function Tag(props) {\n    var _this;\n\n    _classCallCheck(this, Tag);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Tag).call(this, props));\n    _this.state = {\n      visible: true\n    };\n\n    _this.handleIconClick = function (e) {\n      _this.setVisible(false, e);\n    };\n\n    _this.renderTag = function (configProps) {\n      var _a = _this.props,\n          children = _a.children,\n          otherProps = __rest(_a, [\"children\"]);\n\n      var isNeedWave = 'onClick' in otherProps || children && children.type === 'a';\n      var tagProps = omit(otherProps, ['onClose', 'afterClose', 'color', 'visible', 'closable', 'prefixCls']);\n      return isNeedWave ? React.createElement(Wave, null, React.createElement(\"span\", _extends({}, tagProps, {\n        className: _this.getTagClassName(configProps),\n        style: _this.getTagStyle()\n      }), children, _this.renderCloseIcon())) : React.createElement(\"span\", _extends({}, tagProps, {\n        className: _this.getTagClassName(configProps),\n        style: _this.getTagStyle()\n      }), children, _this.renderCloseIcon());\n    };\n\n    warning(!('afterClose' in props), 'Tag', \"'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version.\");\n    return _this;\n  }\n\n  _createClass(Tag, [{\n    key: \"getTagStyle\",\n    value: function getTagStyle() {\n      var _this$props = this.props,\n          color = _this$props.color,\n          style = _this$props.style;\n      var isPresetColor = this.isPresetColor();\n      return _extends({\n        backgroundColor: color && !isPresetColor ? color : undefined\n      }, style);\n    }\n  }, {\n    key: \"getTagClassName\",\n    value: function getTagClassName(_ref) {\n      var _classNames;\n\n      var getPrefixCls = _ref.getPrefixCls;\n      var _this$props2 = this.props,\n          customizePrefixCls = _this$props2.prefixCls,\n          className = _this$props2.className,\n          color = _this$props2.color;\n      var visible = this.state.visible;\n      var isPresetColor = this.isPresetColor();\n      var prefixCls = getPrefixCls('tag', customizePrefixCls);\n      return classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(color), isPresetColor), _defineProperty(_classNames, \"\".concat(prefixCls, \"-has-color\"), color && !isPresetColor), _defineProperty(_classNames, \"\".concat(prefixCls, \"-hidden\"), !visible), _classNames), className);\n    }\n  }, {\n    key: \"setVisible\",\n    value: function setVisible(visible, e) {\n      var _this$props3 = this.props,\n          onClose = _this$props3.onClose,\n          afterClose = _this$props3.afterClose;\n\n      if (onClose) {\n        onClose(e);\n      }\n\n      if (afterClose && !onClose) {\n        // next version remove.\n        afterClose();\n      }\n\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!('visible' in this.props)) {\n        this.setState({\n          visible: visible\n        });\n      }\n    }\n  }, {\n    key: \"isPresetColor\",\n    value: function isPresetColor() {\n      var color = this.props.color;\n\n      if (!color) {\n        return false;\n      }\n\n      return PresetColorRegex.test(color);\n    }\n  }, {\n    key: \"renderCloseIcon\",\n    value: function renderCloseIcon() {\n      var closable = this.props.closable;\n      return closable ? React.createElement(Icon, {\n        type: \"close\",\n        onClick: this.handleIconClick\n      }) : null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderTag);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps) {\n      if ('visible' in nextProps) {\n        return {\n          visible: nextProps.visible\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Tag;\n}(React.Component);\n\nTag.CheckableTag = CheckableTag;\nTag.defaultProps = {\n  closable: false\n};\npolyfill(Tag);\nexport default Tag;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MetadataList_wrapper__6f7Dg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"TagManagement_wrapper__13Kz3\",\"btnBox\":\"TagManagement_btnBox__z6WLz\"};"],"sourceRoot":""}