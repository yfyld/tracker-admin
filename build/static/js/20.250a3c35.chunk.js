(window["webpackJsonptracker-web"]=window["webpackJsonptracker-web"]||[]).push([[20],{1358:function(e,t,n){e.exports={wrapper:"PermissionManage_wrapper__3MkcM",header:"PermissionManage_header__2G2z8",listBox:"PermissionManage_listBox__2cv6O",table:"PermissionManage_table__34_2s",submitButtons:"PermissionManage_submitButtons__1Ecc_",rightBtn:"PermissionManage_rightBtn__1tDVE"}},1384:function(e,t,n){"use strict";n.r(t);var r=n(48),a=n(81),i=n(0),s=n.n(i),o=n(68),c=n(65),l=n(5),m=n(10),u=n(72),p=n(1081),d=n(1040),b=n(1041),f=n(1045),O=n(1043),P=n(1039),E=n(8),g=n.n(E),y=n(1047),j=n(199),v=n(1046),h=n(7),w=n(1056),I=n.n(w),k=j.a.Option,_=Object(o.c)((function(e){var t=e.permission;return{addPermissionItem:t.addPermissionItem,updatePermissionItem:t.updatePermissionItem}}),(function(e){return Object(c.b)({onAddPermission:function(e){return l.Z.request(e)}},e)}))(f.a.create()((function(e){var t=e.form.getFieldDecorator;i.useEffect((function(){e.form.resetFields()}),[e.visible]);return i.createElement(v.a,{onOk:function(t){t.preventDefault(),e.form.validateFields(function(){var t=Object(y.a)(g.a.mark((function t(n,r){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return Object(h.v)(n),t.abrupt("return");case 3:r.name=Object(h.w)(r.name),r.code=Object(h.w)(r.code.toLocaleUpperCase()),e.onAddPermission(r),e.onClose(!1);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},title:"\u65b0\u5efa\u6743\u9650",visible:e.visible,onCancel:function(){return e.onClose(!1)}},i.createElement(f.a,Object.assign({layout:"horizontal"},m.fb),i.createElement(f.a.Item,{label:"\u6743\u9650\u540d"},t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6743\u9650\u540d"}],initialValue:e.addPermissionItem.name})(i.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u6743\u9650\u540d"}))),i.createElement(f.a.Item,{label:"\u6743\u9650\u7801"},t("code",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6743\u9650\u7801"}],initialValue:e.addPermissionItem.code})(i.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u6743\u9650\u7801"}))),i.createElement(f.a.Item,{label:"\u6743\u9650\u7c7b\u578b"},t("type",{rules:[{required:!0,message:"\u6743\u9650\u7c7b\u578b"}],initialValue:e.addPermissionItem.type})(i.createElement(j.a,{placeholder:"\u8bf7\u9009\u62e9"},m.gb.map((function(e,t){return 0===t?null:i.createElement(k,{key:e,value:t},e)}))))),i.createElement(f.a.Item,Object.assign({},m.fb,{label:"\u6743\u9650\u63cf\u8ff0"}),t("description",{initialValue:e.addPermissionItem.description})(i.createElement(I.a,{style:{minHeight:32},placeholder:"\u8bf7\u8f93\u5165\u6743\u9650\u63cf\u8ff0",rows:4})))))}))),D=n(1358),C=n.n(D);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=j.a.Option,q=Object(o.c)((function(e){return{updatePermissionItem:e.permission.updatePermissionItem}}),(function(e){return Object(c.b)({onPutPermission:function(e){return l.bb.request(e)}},e)}))(f.a.create()((function(e){var t=e.form.getFieldDecorator;i.useEffect((function(){e.form.resetFields()}),[e.visible]);return i.createElement(v.a,{onOk:function(t){t.preventDefault(),e.form.validateFields(function(){var t=Object(y.a)(g.a.mark((function t(n,r){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return Object(h.v)(n),t.abrupt("return");case 3:e.onPutPermission(x({},e.updatePermissionItem,{},r)),e.onClose(!1);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},title:"\u65b0\u5efa\u6743\u9650",visible:e.visible,onCancel:function(){return e.onClose(!1)}},i.createElement(f.a,Object.assign({layout:"horizontal"},m.fb),i.createElement(f.a.Item,{label:"\u6743\u9650\u540d"},t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6743\u9650\u540d"}],initialValue:e.updatePermissionItem.name})(i.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u6743\u9650\u540d"}))),i.createElement(f.a.Item,{label:"\u6743\u9650\u7801"},t("code",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6743\u9650\u7801"}],initialValue:e.updatePermissionItem.code})(i.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u6743\u9650\u7801",disabled:!0}))),i.createElement(f.a.Item,{label:"\u6743\u9650\u7c7b\u578b"},t("type",{rules:[{required:!0,message:"\u6743\u9650\u7c7b\u578b"}],initialValue:e.updatePermissionItem.type})(i.createElement(j.a,{placeholder:"\u8bf7\u9009\u62e9",disabled:!0},m.gb.map((function(e,t){return 0===t?null:i.createElement(V,{key:e,value:t},e)}))))),i.createElement(f.a.Item,Object.assign({},m.fb,{label:"\u6743\u9650\u63cf\u8ff0"}),t("description",{initialValue:e.updatePermissionItem.description})(i.createElement(I.a,{style:{minHeight:32},placeholder:"\u8bf7\u8f93\u5165\u6743\u9650\u63cf\u8ff0",rows:4})))))})));function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.default=Object(o.c)((function(e){var t=e.permission;return{addPermissionItem:t.addPermissionItem,updatePermissionItem:t.updatePermissionItem,permissionList:t.permissionList,permissionListParams:t.permissionListParams}}),(function(e){return Object(c.b)({onGetPermissionList:function(e){return l.L.request(e)},onDeletePermission:function(e){return l.p.request(e)},onEditPermission:function(e){return Object(l.x)(e)}},e)}))(f.a.create()((function(e){var t=e.form.getFieldDecorator,n=s.a.useState(!1),i=Object(a.a)(n,2),o=i[0],c=i[1],l=s.a.useState(!1),E=Object(a.a)(l,2),g=E[0],y=E[1],j=[{key:"name",title:"\u6743\u9650\u540d",dataIndex:"name"},{key:"code",title:"\u6743\u9650\u7801",dataIndex:"code"},{key:"type",title:"\u6743\u9650\u7c7b\u578b",render:function(e,t){return s.a.createElement("span",null,m.gb[t.type])}},{key:"description",title:"\u63cf\u8ff0",dataIndex:"description"},{key:"action",title:"\u64cd\u4f5c",width:280,render:function(t,n){return s.a.createElement("span",null,s.a.createElement(u.a,{type:"link",size:"small",onClick:function(){e.onEditPermission(n),y(!0)}},"\u7f16\u8f91"),s.a.createElement(p.a,{title:"\u662f\u5426\u8981\u5220\u9664\u6b64\u884c\uff1f",onConfirm:function(){return e.onDeletePermission(n.id)}},s.a.createElement(u.a,{type:"link",size:"small"},"\u5220\u9664")))}}];return s.a.createElement("div",{className:C.a.wrapper},s.a.createElement(d.a,{gutter:24},s.a.createElement(b.a,null,s.a.createElement(d.a,null,s.a.createElement(f.a,Object.assign({layout:"horizontal"},m.fb),s.a.createElement(b.a,{span:6},s.a.createElement(f.a.Item,{label:"\u6743\u9650\u540d/\u7801"},t("name",{initialValue:e.permissionListParams.name})(s.a.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u6743\u9650\u540d/\u6743\u9650\u7801"}))))),s.a.createElement(b.a,{span:4},s.a.createElement("span",{className:C.a.submitButtons},s.a.createElement(u.a,{type:"primary",onClick:function(t){t.preventDefault(),e.form.validateFields((function(t,n){t?Object(h.v)(t):(n.name=Object(h.w)(n.name),e.onGetPermissionList(n))}))}},"\u67e5\u8be2"))),s.a.createElement(b.a,{span:14},s.a.createElement(_,{visible:o,onClose:c}),s.a.createElement(q,{visible:g,onClose:y}),s.a.createElement("div",{className:C.a.rightBtn},s.a.createElement(u.a,{type:"primary",onClick:function(){return c(!0)}},"\u65b0\u5efa\u6743\u9650")))))),s.a.createElement("div",{className:C.a.table},s.a.createElement(P.a,{rowKey:"id",columns:j,dataSource:e.permissionList.list,pagination:{pageSize:20,total:e.permissionList.totalCount},onChange:function(t){e.onGetPermissionList(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.form.getFieldsValue(),{page:t.current,pageSize:t.pageSize}))}})))})))}}]);
//# sourceMappingURL=20.250a3c35.chunk.js.map