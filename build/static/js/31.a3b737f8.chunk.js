(window["webpackJsonptracker-web"]=window["webpackJsonptracker-web"]||[]).push([[31],{1137:function(e,t,n){"use strict";n.r(t);var r=n(84),a=n(0),c=n(63),o=n(1092),l=n(74),i=n(1089),u=n(535),s=n(1085),m=n(1091),f=n(9),p=n(8),b=n(66),d=n(5),E=Object(c.c)(null,(function(e){return Object(b.b)({handleAddProject:function(e){return d.d.request(e)}},e)}))(m.a.create()((function(e){var t=e.form.getFieldDecorator;a.useEffect((function(){e.form.resetFields()}),[e.visible]);return a.createElement(o.a,{onOk:function(t){t.preventDefault(),e.form.validateFields((function(t,n){t?Object(p.v)(t):(e.handleAddProject(n),e.onClose(!1))}))},title:"\u65b0\u5efa\u5e94\u7528",visible:e.visible,onCancel:function(){return e.onClose(!1)}},a.createElement(m.a,Object.assign({layout:"horizontal"},f.gb),a.createElement(m.a.Item,{label:"\u5e94\u7528\u540d\u79f0"},t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e94\u7528\u540d\u79f0"}]})(a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u5e94\u7528\u540d\u79f0"}))),a.createElement(m.a.Item,{label:"\u5e94\u7528\u63cf\u8ff0"},t("description",{})(a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u5e94\u7528\u63cf\u8ff0"})))))}))),j=n(46);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var v=m.a.create()((function(e){var t=e.form.getFieldDecorator;return a.createElement(m.a,{onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(t,n){t?Object(p.v)(t):e.onSubmit(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{page:1,pageSize:20}))}))},layout:"inline"},a.createElement(m.a.Item,null,t("projectName",{initialValue:e.defaultValue.projectName})(a.createElement(i.a.Search,{size:"large",placeholder:"\u5e94\u7528\u540d\u79f0"}))))}));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var P=m.a.create()((function(e){var t=e.form.getFieldDecorator;a.useEffect((function(){e.form.resetFields()}),[e.visible]);return a.createElement(o.a,{onOk:function(t){t.preventDefault(),e.form.validateFields((function(t,n){t?Object(p.v)(t):(e.onSubmit(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e.orginInfo.id},n)),e.onClose(!1))}))},title:"\u7f16\u8f91\u5e94\u7528",visible:e.visible,onCancel:function(){return e.onClose(!1)}},a.createElement(m.a,Object.assign({layout:"horizontal"},f.gb),a.createElement(m.a.Item,{label:"\u5e94\u7528\u540d\u79f0"},t("name",{initialValue:e.orginInfo.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e94\u7528\u540d\u79f0"}]})(a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u5e94\u7528\u540d\u79f0"}))),a.createElement(m.a.Item,{label:"\u5e94\u7528\u63cf\u8ff0"},t("description",{initialValue:e.orginInfo.description})(a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u5e94\u7528\u63cf\u8ff0"})))))})),y=n(57),w=n(129),h=o.a.confirm;t.default=Object(c.c)((function(e){var t=e.project;return{projectList:t.projectList,projectListParams:t.projectListParams}}),(function(e){return Object(b.b)({onGetProjectList:function(e){return d.O.request(e)},onDeleteProject:function(e){return d.r.request(e)},onUpdateProject:function(e){return d.lb.request(e)}},e)}))((function(e){var t=e.projectList,n=e.onGetProjectList,c=e.projectListParams,o=e.onDeleteProject,m=e.onUpdateProject,p=e.team,b=a.useState(!1),d=Object(r.a)(b,2),j=d[0],O=d[1],g=a.useState(!1),C=Object(r.a)(g,2),D=C[0],k=C[1],S=a.useState(null),I=Object(r.a)(S,2),L=I[0],z=I[1],F=a.useState(null),T=Object(r.a)(F,2),q=T[0],J=T[1];a.useEffect((function(){q&&A(q)}),[q]);var N=[{key:"name",title:"\u5e94\u7528\u540d\u79f0",dataIndex:"name",render:function(e,t){return a.createElement(y.b,{to:"".concat(f.cb.analyseEvent,"?projectId=").concat(t.id)},e)}},{key:"description",title:"\u5907\u6ce8",dataIndex:"description"},{title:"\u64cd\u4f5c",key:"action",width:180,render:function(e,t){return a.createElement("span",null,a.createElement(w.a,{code:f.L.PROJECT_SEARCH},a.createElement(y.b,{to:"".concat(f.cb.analyseEvent,"?projectId=").concat(t.id)},a.createElement(l.a,{type:"link",size:"small"},"\u67e5\u770b"))),a.createElement(w.a,{code:f.L.PROJECT_UPDATE},a.createElement(l.a,{type:"link",size:"small",onClick:function(){return V(t)}},"\u7f16\u8f91")),a.createElement(w.a,{code:f.L.PROJECT_DEL},a.createElement(l.a,{type:"link",size:"small",onClick:function(){return J(t)}},"\u5220\u9664")))}}],V=function(e){z(e),k(!0)},A=function(e){var t="";h({title:"\u8b66\u544a",content:a.createElement("div",null,a.createElement("p",null,"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u8be5\u5e94\u7528\u5417?"),a.createElement("p",null,"\u8bf7\u8f93\u5165\u5e94\u7528\u540d\u79f0",a.createElement(i.a,{defaultValue:t,onChange:function(e){return t=e.target.value}}))),okText:"\u5220\u9664",cancelText:"\u53d6\u6d88",onOk:function(){if(t!==q.name)return u.a.error("\u5e94\u7528\u540d\u79f0\u4e0d\u6b63\u786e,\u8bf7\u786e\u8ba4"),Promise.reject();o(q.id)},onCancel:function(){console.log("Cancel")}})};return console.log("------"),console.log(t),a.createElement("div",{className:"app-tablePage-wrapper"},L&&a.createElement(P,{orginInfo:L,visible:D,onClose:k,onSubmit:m}),a.createElement(E,{visible:j,onClose:O}),a.createElement("div",{className:"app-tablePage-title"},"\u5e94\u7528\u5217\u8868"),a.createElement("div",{className:"app-tablePage-form"},a.createElement("div",null,a.createElement(w.a,{code:f.L.PROJECT_ADD},a.createElement(l.a,{size:"large",onClick:function(){return O(!0)}},"\u521b\u5efa\u65b0\u5e94\u7528"))),a.createElement("div",null,a.createElement(v,{defaultValue:c,onSubmit:function(e){p&&(e.teamId=p.id),n(e)}}))),a.createElement("div",{className:"app-tablePage-table"},a.createElement(s.a,{rowKey:"id",columns:N,dataSource:t.list,pagination:{pageSize:c.pageSize,total:t.totalCount,current:c.page}})))}))}}]);
//# sourceMappingURL=31.a3b737f8.chunk.js.map