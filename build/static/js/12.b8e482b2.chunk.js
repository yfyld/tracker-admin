(window["webpackJsonptracker-web"]=window["webpackJsonptracker-web"]||[]).push([[12],{1065:function(e,t,n){"use strict";var a=n(0),r=n(1066),i=n.n(r),l=n(1057);t.a=function(e){var t=e.info,n=e.size,r=void 0===n?"":n,o=e.color,c=void 0===o?null:o,m=t.nickname||t.username||"\u65e0\u540d",u=a.createElement("div",null,a.createElement("p",null,t.nickname||"\u533f\u540d"),a.createElement("p",null,t.username));return a.createElement(l.a,{placement:"bottom",content:u},a.createElement("div",{style:{background:c},className:i.a.wrapper+" "+i.a[r]},/^\w*$/.test(m)?m.substr(0,4):m.substr(-2)))}},1066:function(e,t,n){e.exports={wrapper:"AvatarText_wrapper__G4Kdz",mini:"AvatarText_mini__NgFQ1"}},1141:function(e,t,n){e.exports={memberBox:"TeamList_memberBox__O9kij",itemList:"TeamList_itemList__bn9js",header:"TeamList_header__1jLUP"}},1182:function(e,t,n){"use strict";n.r(t);var a=n(80),r=n(0),i=n(1141),l=n.n(i),o=n(68),c=n(6),m=n(65),u=n(72),s=n(1166),p=n(23),f=n(1082),d=n(1065),b=n(199),E=n(1047),v=n(1046),O=n(1044),g=n(250),y=n(10),h=n(7),L=n(337),j=n.n(L),S=b.a.Option,k=v.a.create()((function(e){var t=e.form.getFieldDecorator;r.useEffect((function(){e.form.resetFields(),e.visible&&!e.userList.list.length&&e.onSearchUser({page:1,pageSize:50})}),[e.visible]);var n=j()((function(t){e.onSearchUser({nickname:t,page:1,pageSize:50})}),800);return r.createElement(E.a,{onOk:function(t){t.preventDefault(),e.form.validateFields((function(t,n){t?Object(h.v)(t):(e.onSubmit(n),e.onClose(!1))}))},title:"\u65b0\u589e\u56e2\u961f",visible:e.visible,onCancel:function(){return e.onClose(!1)}},r.createElement(v.a,Object.assign({layout:"horizontal"},y.cb),r.createElement(v.a.Item,{label:"\u56e2\u961f\u540d\u79f0"},t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u56e2\u961f\u540d\u79f0"}]})(r.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u56e2\u961f\u540d\u79f0"}))),r.createElement(v.a.Item,{label:"\u516c\u5f00"},t("public",{initialValue:!0})(r.createElement(g.a.Group,null,r.createElement(g.a,{value:!0},"\u516c\u5f00"),r.createElement(g.a,{value:!1},"\u79c1\u6709")))),r.createElement(v.a.Item,{label:"\u56e2\u961f\u63cf\u8ff0"},t("description",{})(r.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u56e2\u961f\u63cf\u8ff0"}))),r.createElement(v.a.Item,{label:"\u6210\u5458"},t("members",{})(r.createElement(b.a,{mode:"multiple",onSearch:n,filterOption:!1,notFoundContent:null,placeholder:"\u8bf7\u9009\u62e9\u6210\u5458"},e.userList.list.map((function(e){return r.createElement(S,{key:e.id,value:e.id},e.nickname||e.username)})))))))})),w=n(48);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var P=b.a.Option,T=v.a.create()((function(e){var t=e.form,n=t.getFieldDecorator,a=t.resetFields,i=t.validateFields;r.useEffect((function(){a(),e.visible&&!e.userList.list.length&&e.onSearchUser({page:1,pageSize:50})}),[e.visible]);var l=j()((function(t){e.onSearchUser({nickname:t,page:1,pageSize:50})}),800);return r.createElement(E.a,{onOk:function(t){t.preventDefault(),i((function(t,n){t?Object(h.v)(t):(e.onSubmit(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e.orginInfo.id},n)),e.onClose(!1))}))},title:"\u7f16\u8f91\u56e2\u961f",visible:e.visible,onCancel:function(){return e.onClose(!1)}},r.createElement(v.a,Object.assign({layout:"horizontal"},y.cb),r.createElement(v.a.Item,{label:"\u56e2\u961fOwner"},n("creatorId",{initialValue:e.orginInfo.creator.id})(r.createElement(b.a,{showSearch:!0,onSearch:l,filterOption:!1,notFoundContent:null,placeholder:"\u8bf7\u9009\u62e9\u56e2\u961fowner"},e.userList.list.map((function(e){return r.createElement(P,{key:e.id,value:e.id},e.nickname||e.username)}))))),r.createElement(v.a.Item,{label:"\u56e2\u961f\u540d\u79f0"},n("name",{initialValue:e.orginInfo.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u56e2\u961f\u540d\u79f0"}]})(r.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u56e2\u961f\u540d\u79f0"}))),r.createElement(v.a.Item,{label:"\u516c\u5f00"},n("public",{initialValue:e.orginInfo.public})(r.createElement(g.a.Group,null,r.createElement(g.a,{value:!0},"\u516c\u5f00"),r.createElement(g.a,{value:!1},"\u79c1\u6709")))),r.createElement(v.a.Item,{label:"\u56e2\u961f\u63cf\u8ff0"},n("description",{initialValue:e.orginInfo.description})(r.createElement(O.a,{placeholder:"\u8bf7\u8f93\u5165\u56e2\u961f\u63cf\u8ff0"}))),r.createElement(v.a.Item,{label:"\u6210\u5458"},n("members",{initialValue:e.orginInfo.members.map((function(e){return e.id}))})(r.createElement(b.a,{mode:"multiple",onSearch:l,filterOption:!1,notFoundContent:null,placeholder:"\u8bf7\u9009\u62e9\u6210\u5458"},e.userList.list.map((function(e){return r.createElement(P,{key:e.id,value:e.id},e.nickname||e.username)})))))))}));function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var C=b.a.Option,_=v.a.create()((function(e){var t=e.form,n=t.getFieldDecorator,a=t.setFields,i=function(t){t&&t.preventDefault(),e.form.validateFields((function(t,n){t?Object(h.v)(t):e.onSubmit(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{page:1,pageSize:20}))}))};return r.createElement(v.a,{onSubmit:i,layout:"inline"},r.createElement(v.a.Item,null,n("relevance",{initialValue:+e.defaultValue.relevance})(r.createElement(b.a,{onChange:function(){a({name:""}),setTimeout((function(){i()}),0)},style:{width:100}},r.createElement(C,{value:1},"\u6211\u7684\u56e2\u961f"),r.createElement(C,{value:0},"\u6240\u6709\u56e2\u961f")))),r.createElement(v.a.Item,null,n("name",{initialValue:e.defaultValue.name})(r.createElement(O.a,{placeholder:"\u6839\u636e\u56e2\u961f\u540d\u79f0\u67e5\u8be2"}))))})),F=n(53);t.default=Object(o.c)((function(e){var t=e.team,n=t.teamList,a=t.teamListLoading,r=t.teamListParam,i=e.app,l=i.userList;return{teamList:n,userInfo:i.userInfo,userList:l,teamListLoading:a,teamListParam:r}}),(function(e){return Object(m.b)({onGetTeamList:function(e){return c.R.request(e)},onGetUserList:function(e){return c.T.request(e)},onAddTeam:function(e){return c.g.request(e)},onDeleteTeam:function(e){return c.s.request(e)},onUpdateTeam:function(e){return c.kb.request(e)}},e)}))((function(e){var t=e.onGetTeamList,n=e.teamList,i=(e.teamListLoading,e.onGetUserList),o=e.userList,c=e.onAddTeam,m=e.onDeleteTeam,b=e.onUpdateTeam,E=e.teamListParam,v=e.userInfo,O=r.useState(!1),g=Object(a.a)(O,2),h=g[0],L=g[1],j=r.useState(!1),S=Object(a.a)(j,2),w=S[0],I=S[1],P=r.useState({name:"",description:"",creator:{id:null,nickname:"",username:""},members:[],id:null,public:!1}),D=Object(a.a)(P,2),C=D[0],z=D[1];return r.createElement("div",{className:l.a.wrapper},r.createElement(k,{onSearchUser:i,userList:o,visible:h,onClose:L,onSubmit:c}),r.createElement(T,{orginInfo:C,onSearchUser:i,userList:o,visible:w,onClose:I,onSubmit:b}),r.createElement("div",{className:l.a.header},r.createElement("div",{className:"app-fl"},r.createElement(_,{defaultValue:E,onSubmit:t})),r.createElement(u.a,{type:"primary",className:"app-fr",onClick:function(){return L(!0)}},"\u65b0\u5efa\u56e2\u961f")),r.createElement(s.a,{className:l.a.itemList,itemLayout:"horizontal",dataSource:n.list,renderItem:function(e){return r.createElement(s.a.Item,{key:e.id,actions:v.id===e.creator.id&&[r.createElement("a",{key:"list-edit",onClick:function(){return z(e),void I(!0)}},r.createElement(p.a,{type:"form"}),"\u7f16\u8f91"),r.createElement(f.a,{key:"list-delete",onConfirm:function(){return m(e.id)},title:"\u56e2\u961f\u5220\u9664\u540e\u4e0d\u53ef\u6062\u590d,\u786e\u5b9a\u8981\u5220\u9664?",okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},r.createElement("a",null,r.createElement(p.a,{type:"delete"}),"\u5220\u9664"))]},r.createElement(s.a.Item.Meta,{avatar:r.createElement(d.a,{info:e.creator}),title:r.createElement(F.b,{to:y.Y.teamInfo+"?teamId="+e.id},e.name),description:e.description}),r.createElement("div",{className:l.a.memberBox},e.members.map((function(e){return r.createElement(d.a,{key:e.id,size:"mini",color:"#999",info:e})}))))}}))}))}}]);
//# sourceMappingURL=12.b8e482b2.chunk.js.map