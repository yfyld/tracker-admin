(window["webpackJsonptracker-web"]=window["webpackJsonptracker-web"]||[]).push([[21],{1102:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),o=n(349),a=n(116),c=n(28);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},d=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=p(this,s(t).apply(this,arguments))).saveTooltip=function(t){e.tooltip=t},e.renderPopover=function(t){var n=t.getPrefixCls,a=e.props,c=a.prefixCls,i=m(a,["prefixCls"]);delete i.title;var u=n("popover",c);return r.createElement(o.a,l({},i,{prefixCls:u,ref:e.saveTooltip,overlay:e.getOverlay(u)}))},e}var n,i,d;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(i=[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"getOverlay",value:function(e){var t=this.props,n=t.title,o=t.content;return Object(c.a)(!("overlay"in this.props),"Popover","`overlay` is removed, please use `content` instead, see: https://u.ant.design/popover-content"),r.createElement("div",null,n&&r.createElement("div",{className:"".concat(e,"-title")},n),r.createElement("div",{className:"".concat(e,"-inner-content")},o))}},{key:"render",value:function(){return r.createElement(a.a,null,this.renderPopover)}}])&&u(n.prototype,i),d&&u(n,d),t}(r.Component);d.defaultProps={placement:"top",transitionName:"zoom-big",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}}},1385:function(e,t,n){},1430:function(e,t,n){"use strict";n.r(t);var r=n(46),o=n(84),a=n(1086),c=n(1087),i=n(1089),l=n(74),u=n(358),p=n(0),s=n.n(p),f=n(6),m=n.n(f),d=n(39),y=n(116);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},g=function(e){return p.createElement(y.a,null,(function(t){var n,r,o=t.getPrefixCls,a=e.prefixCls,c=e.className,i=e.color,l=void 0===i?"":i,u=e.children,s=e.pending,f=e.dot,y=h(e,["prefixCls","className","color","children","pending","dot"]),g=o("timeline",a),O=m()((v(n={},"".concat(g,"-item"),!0),v(n,"".concat(g,"-item-pending"),s),n),c),E=m()((v(r={},"".concat(g,"-item-head"),!0),v(r,"".concat(g,"-item-head-custom"),f),v(r,"".concat(g,"-item-head-").concat(l),!0),r));return p.createElement("li",b({},Object(d.default)(y,["position"]),{className:O}),p.createElement("div",{className:"".concat(g,"-item-tail")}),p.createElement("div",{className:E,style:{borderColor:/blue|red|green|gray/.test(l)?void 0:l}},f),p.createElement("div",{className:"".concat(g,"-item-content")},u))}))};g.defaultProps={color:"blue",pending:!1,position:""};var O=g,E=n(23);function j(e){return(j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||"object"!==j(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},I=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=N(this,x(t).apply(this,arguments))).renderTimeline=function(t){var n,r=t.getPrefixCls,o=e.props,a=o.prefixCls,c=o.pending,i=void 0===c?null:c,l=o.pendingDot,u=o.children,s=o.className,f=o.reverse,d=o.mode,y=k(o,["prefixCls","pending","pendingDot","children","className","reverse","mode"]),b=r("timeline",a),v="boolean"===typeof i?null:i,h=m()(b,(S(n={},"".concat(b,"-pending"),!!i),S(n,"".concat(b,"-reverse"),!!f),S(n,"".concat(b,"-").concat(d),!!d),n),s),g=i?p.createElement(O,{pending:!!i,dot:l||p.createElement(E.a,{type:"loading"})},v):null,j=f?[g].concat(P(p.Children.toArray(u).reverse())):[].concat(P(p.Children.toArray(u)),[g]),C=function(e,t){return"alternate"===d?"right"===e.props.position?"".concat(b,"-item-right"):"left"===e.props.position?"".concat(b,"-item-left"):"".concat(b,t%2===0?"-item-left":"-item-right"):"left"===d?"".concat(b,"-item-left"):"right"===d?"".concat(b,"-item-right"):"right"===e.props.position?"".concat(b,"-item-right"):""},N=j.filter((function(e){return!!e})),x=p.Children.count(N),T="".concat(b,"-item-last"),I=p.Children.map(N,(function(e,t){var n=t===x-2?T:"",r=t===x-1?T:"";return p.cloneElement(e,{className:m()([e.props.className,!f&&i?n:r,C(e,t)])})}));return p.createElement("ul",w({},y,{className:h}),I)},e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return p.createElement(y.a,null,this.renderTimeline)}}])&&C(n.prototype,r),o&&C(n,o),t}(p.Component);I.Item=O,I.defaultProps={reverse:!1,mode:""};var _=I,D=n(1102),A=n(350),Y=n(1385),H=n.n(Y),z=n(63),G=n(15),J=n(9),M=n(217),R=n.n(M),L=n(8);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=Object(z.c)((function(e){return{projectId:e.project.projectInfo.id,search:e.router.location.search}}),null)((function(e){var t=e.projectId,n=e.search,r=function(e){y(e)},p=Object(L.p)(n),f=s.a.useState({dateStart:p.dateStart?Number(p.dateStart):J.o[1].startDate(),dateEnd:p.dateEnd?Number(p.dateEnd):J.o[1].endDate(),uid:p.uid||"",deviceId:p.deviceId||"",ip:p.ip||"",custom:p.custom||"",dateType:p.dateStart?"":J.o[1].value}),m=Object(o.a)(f,2),d=m[0],y=m[1];s.a.useEffect((function(){(d.uid||d.deviceId||d.ip||d.custom)&&t&&S()}),[n,t]);var b=s.a.useState({list:[]}),v=Object(o.a)(b,2),h=v[0],g=v[1],O=s.a.useState(!1),j=Object(o.a)(O,2),w=j[0],P=j[1],S=function(){P(!0),Object(G.fetchUserTimelineAnalyseData)(q({},d,{projectId:t})).then((function(e){g(e.data)})).finally((function(){P(!1)}))};return s.a.createElement("div",{className:H.a.wrapper},s.a.createElement("div",{className:H.a.preview},s.a.createElement(a.a,null,s.a.createElement(c.a,{span:3},s.a.createElement(i.a,{placeholder:"uid",value:d.uid,onChange:function(e){return r(q({},d,{uid:e.target.value}))}})),s.a.createElement(c.a,{span:3},s.a.createElement(i.a,{placeholder:"deviceId",value:d.deviceId,onChange:function(e){return r(q({},d,{deviceId:e.target.value}))}})),s.a.createElement(c.a,{span:3},s.a.createElement(i.a,{placeholder:"ip",value:d.ip,onChange:function(e){return r(q({},d,{ip:e.target.value}))}})),s.a.createElement(c.a,{span:3},s.a.createElement(i.a,{placeholder:"custom",value:d.custom,onChange:function(e){return r(q({},d,{custom:e.target.value}))}})),s.a.createElement(c.a,{span:10},s.a.createElement(A.a,{pickerProps:{allowClear:!1},onChange:function(e){return r(q({},d,{},e))},value:{dateType:d.dateType,dateEnd:d.dateEnd,dateStart:d.dateStart}})),s.a.createElement(c.a,{span:2},s.a.createElement(l.a,{onClick:S},"\u67e5\u8be2"))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"app-tablePage-table"},s.a.createElement(u.a,{spinning:w},h.list.length>1&&s.a.createElement("h2",null,"\u67e5\u8be2\u5230",h.list.length,"\u4e2a\u7528\u6237\u7684\u65f6\u95f4\u8f74"),h.list.map((function(e){return s.a.createElement("div",null,s.a.createElement("h3",null,"\u7528\u6237:",e.user),s.a.createElement(_,{mode:"alternate"},e.userTime.map((function(e){return s.a.createElement(_.Item,{color:"green",dot:s.a.createElement(E.a,{type:"clock-circle-o",style:{fontSize:"16px"}})},s.a.createElement("div",null,s.a.createElement(D.a,{trigger:"click",content:(t=e,s.a.createElement("div",{style:{width:680,height:500,overflow:"auto"}},Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return s.a.createElement("div",null,s.a.createElement("h4",null,n),s.a.createElement("p",null,"string"===typeof r?unescape(r.replace(/\\u/gi,"%u")):r))})))),title:"\u65e5\u5fd7\u8be6\u60c5"},s.a.createElement("div",null,R()(Number(e.trackTime)).format("YYYY-MM-DD HH:mm:ss")),s.a.createElement("div",null,"PAGE"===e.actionType?"\u8bbf\u95ee\u4e86":"\u89e6\u53d1\u4e86"," ",s.a.createElement("strong",null,e.trackName||e.trackId)," "),"PAGE"===e.actionType&&s.a.createElement("div",null,e.durationTime?e.durationTime/1e3+"\u79d2":"\u8bbf\u95ee\u65f6\u95f4\u592a\u77ed\u6216\u672a\u83b7\u53d6"),s.a.createElement("div",null,"null"===e.appid?"H5":"APP",",\u9879\u76ee\u7248\u672c:",e.version,",\u7cfb\u7edf:",e.os,",\u6d4f\u89c8\u5668:",e.browser))));var t}))))})))),s.a.createElement("div",null)))}))}}]);
//# sourceMappingURL=21.b5449f01.chunk.js.map