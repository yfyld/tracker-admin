(window["webpackJsonptracker-web"]=window["webpackJsonptracker-web"]||[]).push([[24],{1189:function(e,t,n){e.exports={wrapper:"ProjectCode_wrapper__3ZQlm"}},1427:function(e,t,n){"use strict";n.r(t);var r=n(1104),a=n(1091),c=n(0),l=n(46),o=n(1089),i=n(208),u=n(74),s=n(9),m=n(63),p=n(66),d=n(5),b=n(8);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var E=Object(m.c)((function(e){var t=e.project;return{projectInfo:t.projectInfo,projectList:t.projectList}}),(function(e){return Object(p.b)({handleUpdateProject:function(e){return d.lb.request(e)}},e)}))(a.a.create()(a.a.create()((function(e){var t=e.form,n=e.projectInfo,r=e.handleUpdateProject,p=e.projectList,d=t.getFieldDecorator,E=Object(m.d)((function(e){return e.permission.userPermissionCodes.permissionCodesMap}));return c.createElement(a.a,Object.assign({onSubmit:function(e){e.preventDefault(),t.validateFields((function(e,t){e?Object(b.v)(e):r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:n.id},t))}))},style:{maxWidth:500}},s.gb),c.createElement(a.a.Item,{label:"\u5e94\u7528\u540d\u79f0"},d("name",{initialValue:n.name,rules:[{required:!0,message:"\u5e94\u7528\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}]})(c.createElement(o.a,{disabled:E[s.L.PROJECT_UPDATE]}))),c.createElement(a.a.Item,{label:"trackKey"},n.trackKey),c.createElement(a.a.Item,{label:"\u5173\u8054\u5e94\u7528"},d("associationProjectIds",{initialValue:n.associationProjects.map((function(e){return e.id}))})(c.createElement(i.a,{mode:"multiple",disabled:E[s.L.PROJECT_UPDATE]},p.list.filter((function(e){return e.id!==n.id})).map((function(e){return c.createElement(i.a.Option,{value:e.id,key:e.id},e.name)}))))),c.createElement(a.a.Item,s.jb,c.createElement(u.a,{type:"primary",htmlType:"submit",disabled:E[s.L.PROJECT_UPDATE]},"\u4fdd\u5b58")))})))),v=n(84),y=n(1092),k=n(1085),j=n(7),g=n.n(j),h=n(1093),O=n(358),P=n(15);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w=Object(m.c)((function(e){return{projectInfo:e.project.projectInfo,allRoleList:e.role.allRoleList}}),(function(e){return Object(p.b)({onAddProjectMember:function(e){return d.e.request(e)}},e)}))(a.a.create()((function(e){var t=e.form.getFieldDecorator,n=i.a.Option,r=c.useState({list:[],totalCount:0}),o=Object(v.a)(r,2),u=o[0],m=o[1],p=c.useState(!1),d=Object(v.a)(p,2),f=d[0],E=d[1];c.useEffect((function(){e.form.resetFields(),u.totalCount||k("")}),[e.visible]);var k=function(){var e=Object(h.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,Object(P.fetchUserList)({page:1,pageSize:50,nickname:t,username:t});case 3:n=e.sent,m(n.data),E(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.createElement(y.a,{onOk:function(t){t.preventDefault(),e.form.validateFields((function(t,n){t?Object(b.v)(t):(e.onAddProjectMember(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({projectId:e.projectInfo.id},n)),e.onClose(!1))}))},title:"\u6dfb\u52a0\u5e94\u7528\u6210\u5458",visible:e.visible,onCancel:function(){return e.onClose(!1)}},c.createElement(a.a,Object.assign({layout:"horizontal"},s.gb),c.createElement(a.a.Item,{label:"\u6dfb\u52a0\u6210\u5458"},t("userIds",{})(c.createElement(i.a,{mode:"multiple",placeholder:"\u9009\u62e9\u7528\u6237",notFoundContent:f?c.createElement(O.a,{size:"small"}):null,filterOption:!1,onSearch:k},u.list.map((function(t){return c.createElement(n,{key:t.id,value:""+t.id,disabled:!!e.projectInfo.members.find((function(e){return e.id===t.id}))},t.nickname||t.username)}))))),c.createElement(a.a.Item,{label:"\u89d2\u8272"},t("roleCode",{})(c.createElement(i.a,{placeholder:"\u9009\u62e9\u89d2\u8272"},e.allRoleList.list.filter((function(e){return 1===e.type})).map((function(e){return c.createElement(n,{key:e.id,value:""+e.code},e.name)})))))))}))),I=n(129);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var D=i.a.Option,S=Object(m.c)((function(e){return{projectInfo:e.project.projectInfo,allRoleList:e.role.allRoleList}}),(function(e){return Object(p.b)({onDeleteProjectMember:function(e){return d.s.request(e)},onUpdateProjectMember:function(e){return d.mb.request(e)}},e)}))((function(e){var t=e.projectInfo,n=e.onDeleteProjectMember,r=e.onUpdateProjectMember,a=e.allRoleList,o=c.useState(!1),m=Object(v.a)(o,2),p=m[0],d=m[1],b=[{title:"\u59d3\u540d",dataIndex:"nickname",key:"nickname"},{title:"\u8d26\u53f7",dataIndex:"username",key:"username"},{title:"\u89d2\u8272",dataIndex:"roleName",key:"roleName"},{title:"\u64cd\u4f5c",key:"action",render:function(e,l){return c.createElement("span",null,c.createElement(I.a,{code:s.L.PROJECT_MEMBER_UPDATE},c.createElement(u.a,{size:"small",onClick:function(){return function(e){var n="";y.a.confirm({title:"\u7f16\u8f91\u6210\u5458",content:c.createElement(i.a,{style:{width:"100%"},placeholder:"\u9009\u62e9\u89d2\u8272",value:n,onChange:function(e){n=e}},a.list.filter((function(e){return 1===e.type})).map((function(e){return c.createElement(D,{key:e.id,value:""+e.code},e.name)}))),onOk:function(){r({projectId:t.id,userIds:[e],roleCode:n})}})}(l.id)}},"\u7f16\u8f91")),"\xa0",c.createElement(I.a,{code:s.L.PROJECT_MEMBER_DEL},c.createElement(u.a,{onClick:function(){return e=l.id,void y.a.warning({title:"\u63d0\u793a",content:"\u786e\u5b9a\u79fb\u9664\u8be5\u6210\u5458\u5417",okText:"\u79fb\u9664",onOk:function(){n({projectId:t.id,userIds:[e]})}});var e},size:"small"},"\u79fb\u9664")))}}];return c.createElement("div",{className:"app-tablePage-wrapper"},c.createElement(w,{visible:p,onClose:d}),c.createElement("div",{className:"app-tablePage-title"},"\u6210\u5458\u5217\u8868"),c.createElement("div",{className:"app-tablePage-form"},c.createElement("div",null,c.createElement(I.a,{code:s.L.PROJECT_MEMBER_ADD},c.createElement(u.a,{size:"large",onClick:function(){return d(!0)}},"\u6dfb\u52a0\u6210\u5458")))),c.createElement("div",{className:"app-tablePage-table"},c.createElement(k.a,{style:{background:"#fff"},columns:b,dataSource:t.members.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:e.id},e)}))})))})),z=n(1428),L=n(1189),R=n.n(L),K=Object(m.c)((function(e){return{projectInfo:e.project.projectInfo}}),null)((function(e){var t=e.projectInfo,n="<script\n  src='//static.91jkys.com/f2e/telescope-sdk/telescope.min.js'\n  track-key='".concat(t.trackKey,"'\n  crossorigin='anonymous'\n><\/script>");return c.createElement("div",{className:R.a.wrapper},c.createElement("h2",null,"H5 \u5f15\u5165SDK"),c.createElement("div",null,c.createElement("h3",null,"Script \u6807\u7b7e\u5f15\u5165"),c.createElement(z.a,{language:"html"},n)),c.createElement("div",null,c.createElement("h3",null,"npm \u5305"),c.createElement(z.a,{language:"javascript"},"npm i @zyf2e/telescope -S"),c.createElement(z.a,{language:"javascript"},"import * as Telescope from '@zyf2e/telescope';\nTelescope.setConfig({ trackKey: '".concat(t.trackKey,"', version: '1.0.0' });"))),c.createElement("br",null),c.createElement("br",null),c.createElement("br",null),c.createElement("h2",null,"Flutter \u5f15\u5165SDK"),c.createElement("div",null,"\u5f85\u8865\u5145"),c.createElement("br",null),c.createElement("br",null),c.createElement("br",null),c.createElement("h2",null,"H5\u57cb\u70b9\u6280\u5de7"),c.createElement("div",null,c.createElement("h3",null,"\u9875\u9762\u8df3\u8f6c,\u57cb\u70b9\u53d1\u9001\u5931\u8d25?"),c.createElement("div",null,c.createElement("p",null,"1.\u9488\u5bf9a\u6807\u7b7e\u4f7f\u7528html\u5c5e\u6027data-track\u6216\u8005\u6307\u4ee4v-track-event\u65f6,sdk\u9ed8\u8ba4\u5ef6\u8fdfa\u6807\u7b7e\u8df3\u8f6c300ms(\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u9879delayLinkTime\u8c03\u6574\u6216\u53d6\u6d88)"),c.createElement("p",null,"2.\u5728\u5b58\u5728\u8df3\u8f6c\u7684\u65b9\u6cd5\u91cc\u57cb\u70b9,\u53ef\u4ee5\u901a\u8fc7\u6307\u4ee4@tracker(before())\u57cb\u70b9"),c.createElement(z.a,{language:"javascript"},"jumpToBaidu(){\n  Telescope.trackEvent({trackId:\"zyyh-click-baidu\"}); //0\u5206 \u9875\u9762\u8df3\u8d70,\u5bb9\u6613\u5bfc\u81f4\u57cb\u70b9\u53d1\u9001\u5931\u8d25\n  location.href='http://www.baidu.com'\n}"),c.createElement(z.a,{language:"javascript"},"jumpToBaidu(){\n  Telescope.trackEvent({trackId:\"zyyh-click-baidu\"}); //60\u5206 \u4fee\u6539\u4e1a\u52a1\u4ee3\u7801 \u5ef6\u8fdf\u53d1\u9001\n  setTimeout(() => {\n    location.href='http://www.baidu.com'\n  }, 300);\n}"),c.createElement(z.a,{language:"javascript"},"@tracker(before('zyyh-click-baidu')) //100\u5206 \u901a\u8fc7\u88c5\u9970\u5668\u5904\u7406\njumpToBaidu(){\n  location.href='http://www.baidu.com'\n}")),c.createElement("h3",null,"\u57cb\u70b9\u65e5\u5fd7\u9700\u8981\u4e0a\u4f20\u81ea\u5b9a\u4e49\u53c2\u6570?"),c.createElement("div",null,c.createElement("p",null,"\u81ea\u5b9a\u4e49\u5b57\u6bb5\u6302custom\u5b57\u6bb5\u4e0b,\u5982\u679c\u65f6JSON\u4f1a\u5e8f\u5217\u5316\u6210\u5b57\u7b26\u4e32,\u7edf\u8ba1\u5206\u6790\u5f53\u5b57\u7b26\u4e32\u5904\u7406"),c.createElement(z.a,{language:"javascript"},'Telescope.trackEvent({trackId:"zyyh-click-submit",custom:{role:"admin"}})\n}')),c.createElement("h3",null,"\u5904\u7406\u65e5\u5fd7"),c.createElement("div",null,c.createElement("p",null,"\u5982:\u7ed9\u6240\u6709\u65e5\u5fd7\u52a0\u4e0a\u81ea\u5b9a\u4e49\u5b57\u6bb5 custom:'admin'"),c.createElement(z.a,{language:"javascript"},"Telescope.setConfig({beforeGenerateLog:(log)=>({...log,custom:'admin'})})})"))),c.createElement("br",null),c.createElement("br",null),c.createElement("br",null),c.createElement("h2",null,"H5 SDK \u4f7f\u7528\u6587\u6863"),c.createElement("div",null,c.createElement("h3",null,"\u8bbe\u7f6e"),c.createElement(z.a,{language:"javascript"},'Telescope.setConfig({ autoTrackClick: false, trackKey: "'.concat(t.trackKey,"\", version: '1.0.0' });")),c.createElement("h4",null,"\u914d\u7f6e\u9879"),c.createElement(z.a,{language:"javascript"},"{\n  trackKey: '', //\u5e94\u7528key\n  serverUrl: //\u65e5\u5fd7\u6536\u96c6\u63a5\u53e3,\n  pageTime: true, //\u662f\u5426\u8bb0\u5f55\u9875\u9762\u505c\u7559\u65f6\u95f4\n  watchHistoryAndHash: true, //\u5355\u9875\u9762\u5e94\u7528\u76d1\u542curl\u53d8\u5316\n  version: null, //\u5e94\u7528\u7248\u672c\n  sendType: SEND_TYPE.ASYNC, //\u53d1\u9001\u65e5\u5fd7\u65b9\u5f0f (\u540c\u6b65\u53d1,\u5f02\u6b65\u5ef6\u8fdf\u53d1,\u5173\u95ed\u6d4f\u89c8\u5668\u524d\u53d1\u9001)\n  delayTime: 1000, //\u5ef6\u8fdf\u53d1\u9001\u7684\u65f6\u95f4\n  autoTrackPage: false, //\u81ea\u52a8\u57cb\u70b9\u9875\u9762\n  autoTrackClick: false, //\u81ea\u52a8\u57cb\u70b9a,button,input\n  autoInstall: true, //\u81ea\u52a8\u5f00\u59cb\u57cb\u70b9\u76d1\u63a7\n  delayLink: true, //a\u6807\u7b7e\u8df3\u8f6c\u5ef6\u8fdf\n  delayLinkTime: 200,\n  useServerTime: true, //\u4f7f\u7528\u670d\u52a1\u5668\u65f6\u95f4\n  corssSubdomain: false, //false \u57df\u540d\u4e0d\u540c\u8ba4\u4f5c\u4e3a\u4e24\u4e2a\u7528\u6237\n  utokenKey: \"TRYCATCH_TOKEN\",\n  beforeGenerateLog:(log)=>(log) //\u751f\u6210\u65e5\u5fd7\u524dhook function\n};")),c.createElement("div",null,c.createElement("h3",null,"\u8bb0\u5f55\u767b\u5f55\u4fe1\u606f"),c.createElement(z.a,{language:"javascript"},"Telescope.login({ uid: 123 });//\u8bb0\u5f55\u767b\u5f55\u72b6\u6001 uid\u53ef\u9009\nTelescope.logout();//\u79fb\u51fa\u767b\u5f55\u72b6\u6001")),c.createElement("div",null,c.createElement("h3",null,"\u6536\u96c6\u57cb\u70b9\u4fe1\u606f\u65b9\u6cd5"),c.createElement("div",null,c.createElement("h4",null,"\u65e0\u75d5\u57cb\u70b9"),c.createElement(z.a,{language:"javascript"},"Telescope.setConfig({ autoTrackPage:true,//\u8def\u7531\u53d1\u751f\u53d8\u5316\u65f6,\u81ea\u52a8\u57cb\u70b9\nautoTrackClick:true//button,a,img,input\u6807\u7b7e\u53d1\u9001\u70b9\u51fb\u4e8b\u4ef6,\u81ea\u52a8\u57cb\u70b9\n})")),c.createElement("div",null,c.createElement("h4",null,"\u8c03\u7528\u65b9\u6cd5\u53d1\u9001\u57cb\u70b9"),c.createElement(z.a,{language:"javascript"},'Telescope.trackPage({trackId: "zyyh-page-pay"});\nTelescope.trackEvent({trackId:"zyyh-click-submit"})')),c.createElement("div",null,c.createElement("h4",null,"\u6ce8\u518cDOM\u5c5e\u6027,\u53d1\u751f\u70b9\u51fb\u540e\u89e6\u53d1\u57cb\u70b9"),c.createElement(z.a,{language:"html"},'<button data-track="zyyh-click-submit">\u63d0\u4ea4</button>')),c.createElement("div",null,c.createElement("h4",null,"VUE\u5e94\u7528,\u4f7f\u7528\u6307\u4ee4\u57cb\u70b9"),c.createElement(z.a,{language:"javascript"},"//\u6ce8\u518c\u6307\u4ee4\nVue.directive('track-event', Telescope.vTrackEvent);\n// Vue.directive('track-view', Telescope.vTrackView);\nVue.directive('track-page', Telescope.vTrackPage);"),c.createElement(z.a,{language:"html"},'<div class="content">\n  <div v-if="status" v-track-page="\'zyyh-page-one\'">\n    \u9875\u9762\u4e00\n    <input v-track-event.blur="\'zyyh-event-member-detail-conversion\'"/>\n    <button v-track-event.click="\'zyyh-event-member-detail-conversion\'">\n      \u4f7f\u7528\u5151\u6362\u7801\n    </button>\n    <button v-track-event="\'zyyh-event-member-detail-conversion\'">\n      \u4f7f\u7528\u5151\u6362\u7801\n    </button>\n   <button v-track-event="{trackId:\'zyyh-event-member-detail-conversion\'}">\n      \u4f7f\u7528\u5151\u6362\u7801\n    </button>\n  </div>\n  <div v-else  v-track-page="\'zyyh-page-two\'">\n   \u9875\u9762\u4e8c\n  </div>\n</div'))),c.createElement("div",null,c.createElement("h4",null,"\u88c5\u9970\u5668\u57cb\u70b9"),c.createElement(z.a,{language:"javascript"},"import {tracker,before,after} from '@zyf2e/telescope';\n//trackId\n@tracker(\"zyyh-event-submit\")\nhandleSubmit(){\n\n}\n\n//after\n@tracker(after(){\n  return 'zyyh-event-submit-success'\n})\nhandleSubmit(){\n  return new Promise()\n}\n\n//after\n@tracker(after('zyyh-event-submit-success'))\nhandleSubmit(){\n  return new Promise()\n}\n\n//before\n@tracker(before(){\n   return 'zyyh-event-submit-success'\n })\nhandleSubmit(){\n  \n}\n\n//before\n@tracker(before(\"zyyh-event-submit-success\"))\nhandleSubmit(){\n  \n}\n\n//obj\n@tracker({\n  actionType:'PAGE'\n  trackId:'zyyh-page-pay-success'\n})\nhandleSubmit(){\n\n}\n\n//function\n@tracker(function(){\n  return 'zyyh-event-submit-success'\n})\nhandleSubmit(){\n\n}")))})),M=r.a.TabPane;t.default=a.a.create()((function(e){return c.createElement("div",null,c.createElement(r.a,{defaultActiveKey:"1"},c.createElement(M,{tab:"\u57fa\u672c\u4fe1\u606f",key:"1"},c.createElement(E,null)),c.createElement(M,{tab:"\u6210\u5458",key:"2"},c.createElement(S,null)),c.createElement(M,{tab:"SDK",key:"3"},c.createElement(K,null))))}))}}]);
//# sourceMappingURL=24.ad28c4dd.chunk.js.map