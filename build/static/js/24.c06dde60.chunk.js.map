{"version":3,"sources":["pages/project/components/ProjectInfo.tsx","pages/project/components/ProjectMember.tsx","pages/project/Project.tsx"],"names":["connect","state","projectInfo","project","dispatch","bindActionCreators","handleUpdateProject","params","doUpdateProject","request","Form","create","form","getFieldDecorator","onSubmit","e","preventDefault","validateFields","err","values","toastformError","id","style","maxWidth","formItemLayout","Item","label","initialValue","name","rules","required","message","tailFormItemLayout","type","htmlType","columns","title","dataIndex","key","render","text","record","dataSource","members","TabPane","Tabs","props","defaultActiveKey","tab"],"mappings":"ybAgBA,IAqDeA,eAjBS,SAACC,GAEvB,MAAO,CACLC,YAFsBD,EAAME,QAAtBD,gBAMiB,SAACE,GAAD,OACzBC,YACE,CACEC,oBAAqB,SAAAC,GACnB,OAAOC,IAAgBC,QAAQF,KAGnCH,KAGWJ,CAGbU,IAAKC,QAALD,CAAqBA,IAAKC,QAALD,EAxDH,SAAC,GAAuD,IAArDE,EAAoD,EAApDA,KAAMV,EAA8C,EAA9CA,YAAaI,EAAiC,EAAjCA,oBAChCO,EAAsBD,EAAtBC,kBAaR,OACE,gBAAC,IAAD,eAAMC,SAZa,SAACC,GACpBA,EAAEC,iBACFJ,EAAKK,gBAAe,SAACC,EAAKC,GACpBD,EACFE,YAAeF,GAGjBZ,E,yVAAoB,CAAD,CAAGe,GAAInB,EAAYmB,IAAOF,QAKjBG,MAAO,CAAEC,SAAU,MAAWC,KAC1D,gBAAC,IAAKC,KAAN,CAAWC,MAAM,4BACdb,EAAkB,OAAQ,CACzBc,aAAczB,EAAY0B,KAC1BC,MAAO,CACL,CACEC,UAAU,EACVC,QAAS,sDALdlB,CAQE,gBAAC,IAAD,QAEL,gBAAC,IAAKY,KAASO,IACb,gBAAC,IAAD,CAAQC,KAAK,UAAUC,SAAS,UAAhC,uB,UCjCFC,EAAU,CACd,CACEC,MAAO,eACPC,UAAW,WACXC,IAAK,YAEP,CACEF,MAAO,eACPC,UAAW,WACXC,IAAK,YAEP,CACEF,MAAO,eACPC,UAAW,WACXC,IAAK,YAEP,CACEF,MAAO,eACPE,IAAK,SACLC,OAAQ,SAACC,EAAWC,GAClB,OACE,mCAEE,8CACA,kDAyBKzC,eATS,SAACC,GAEvB,MAAO,CACLC,YAFsBD,EAAME,QAAtBD,gBAMiB,SAACE,GAAD,OAAiCC,YAAmB,GAAID,KAEpEJ,EAlBO,SAAC,GAA4B,IAA1BE,EAAyB,EAAzBA,YACvB,OACE,2BACE,gBAAC,IAAD,iCACA,gBAAC,IAAD,CAAOiC,QAASA,EAASO,WAAYxC,EAAYyC,cCzCjDC,EAAUC,IAAKD,QAsBNlC,cAAKC,QAALD,EAlBC,SAACoC,GACf,OACE,2BACE,gBAAC,IAAD,CAAMC,iBAAiB,KACrB,gBAACH,EAAD,CAASI,IAAI,2BAAOV,IAAI,KACtB,gBAAC,EAAD,OAEF,gBAACM,EAAD,CAASI,IAAI,eAAKV,IAAI,KACpB,gBAAC,EAAD","file":"static/js/24.c06dde60.chunk.js","sourcesContent":["import { Form, Button, Input } from 'antd';\nimport * as React from 'react';\nimport { FormComponentProps } from 'antd/lib/form/Form';\nimport { formItemLayout, tailFormItemLayout } from '@/constants';\nimport { connect } from 'react-redux';\nimport { IAction, IStoreState } from '@/types';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { doUpdateProject } from '@/store/actions';\nimport { IProjectUpdateParam, IProjectInfo } from '@/api';\nimport { toastformError } from '@/utils';\n\ninterface Props extends FormComponentProps {\n  handleUpdateProject: (params: IProjectUpdateParam) => IAction;\n  projectInfo: IProjectInfo;\n}\n\nconst ProjectInfo = ({ form, projectInfo, handleUpdateProject }: Props) => {\n  const { getFieldDecorator } = form;\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    form.validateFields((err, values) => {\n      if (err) {\n        toastformError(err);\n        return;\n      }\n      handleUpdateProject({ id: projectInfo.id, ...values });\n    });\n  };\n\n  return (\n    <Form onSubmit={handleSubmit} style={{ maxWidth: 500 }} {...formItemLayout}>\n      <Form.Item label='项目名称'>\n        {getFieldDecorator('name', {\n          initialValue: projectInfo.name,\n          rules: [\n            {\n              required: true,\n              message: '项目名称不能为空'\n            }\n          ]\n        })(<Input />)}\n      </Form.Item>\n      <Form.Item {...tailFormItemLayout}>\n        <Button type='primary' htmlType='submit'>\n          保存\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};\n\nconst mapStateToProps = (state: IStoreState) => {\n  const { projectInfo } = state.project;\n  return {\n    projectInfo\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<IAction>) =>\n  bindActionCreators(\n    {\n      handleUpdateProject: params => {\n        return doUpdateProject.request(params);\n      }\n    },\n    dispatch\n  );\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Form.create<Props>()(Form.create()(ProjectInfo)));\n","import { Table, Button } from 'antd';\nimport * as React from 'react';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { IAction, IStoreState } from '@/types';\nimport { connect } from 'react-redux';\nimport { IProjectInfo } from '@/api';\n\ninterface Props {\n  projectInfo: IProjectInfo;\n}\n\nconst columns = [\n  {\n    title: '姓名',\n    dataIndex: 'nickname',\n    key: 'nickname'\n  },\n  {\n    title: '账号',\n    dataIndex: 'username',\n    key: 'username'\n  },\n  {\n    title: '角色',\n    dataIndex: 'roleCode',\n    key: 'roleCode'\n  },\n  {\n    title: '操作',\n    key: 'action',\n    render: (text: any, record: any) => {\n      return (\n        <span>\n          text\n          <button>编辑</button>\n          <button>移除</button>\n        </span>\n      );\n    }\n  }\n];\n\nconst ProjectMember = ({ projectInfo }: Props) => {\n  return (\n    <div>\n      <Button>添加成员</Button>\n      <Table columns={columns} dataSource={projectInfo.members} />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: IStoreState) => {\n  const { projectInfo } = state.project;\n  return {\n    projectInfo\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<IAction>) => bindActionCreators({}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProjectMember);\n","import { Tabs, Form } from 'antd';\nimport * as React from 'react';\nimport ProjectInfo from './components/ProjectInfo';\nimport ProjectMember from './components/ProjectMember';\n\nconst TabPane = Tabs.TabPane;\n\ninterface Props {}\n\nconst Project = (props: Props) => {\n  return (\n    <div>\n      <Tabs defaultActiveKey='1'>\n        <TabPane tab='基本信息' key='1'>\n          <ProjectInfo></ProjectInfo>\n        </TabPane>\n        <TabPane tab='成员' key='2'>\n          <ProjectMember></ProjectMember>\n        </TabPane>\n        {/* <TabPane tab=\"设置\" key=\"3\">\n          Content of Tab Pane 3\n        </TabPane> */}\n      </Tabs>\n    </div>\n  );\n};\n\nexport default Form.create()(Project);\n"],"sourceRoot":""}